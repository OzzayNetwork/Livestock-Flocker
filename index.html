<!doctype html>
<html lang="en">


<!-- By Kelvin Njuguna   13:53:02 GMT -->

<head>

    <meta charset="utf-8" />
    <title>Flocker | Livestosck Management System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Keep your finances and membership up to date" name="description" />
    <meta content="Kelvin Njuguna Ndungu" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.svg">

    <!-- Bootstrap Css -->
    <link href="assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />

    <!-- Bootstrap select styling -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">

    <!-- App Css-->
    <link href="assets/css/app.min.css" id="app-style" rel="stylesheet" type="text/css" />
    <!-- custom Css-->
    <link href="assets/css/custom.css" id="app-style" rel="stylesheet" type="text/css" />


</head>

<body data-sidebar="dark">

    <!-- Loader -->
    <div id="preloader">
        <div id="status">
            <div class="spinner-chase">
                <div class="chase-dot"></div>
                <div class="chase-dot"></div>
                <div class="chase-dot"></div>
                <div class="chase-dot"></div>
                <div class="chase-dot"></div>
                <div class="chase-dot"></div>
            </div>
        </div>
    </div>
    <!-- Begin page -->

    <!-- Begin page -->
    <div id="layout-wrapper">


        <header id="page-topbar">
            <div class="navbar-header">
                <div class="d-flex text-uppercase">
                    <!-- LOGO -->
                    <div class="navbar-brand-box">
                        <a class="logo logo-dark"><span class="logo-sm"><img alt="" height="22" src="./assets/images/logo.svg"></span><span class="logo-lg"></span></a><a class="logo logo-light d-flex"><span class="logo-sm"><img alt="" height="35" src="assets/images/COUNTY_LOGO_PLAIN.png"></span><span class="logo-lg"><img alt="" height="45" src="assets/images/COUNTY_LOGO_PLAIN.png"></span><div class="portal-title"><h4 class="text-white">Ranch</h4><h6 class="text-muted mb-0 text-white opacity-75">Experts</h6></div></a>
                    </div>

                    <button type="button" class="btn btn-sm px-3 font-size-16 header-item waves-effect" id="vertical-menu-btn">
                            <i class="fa fa-fw fa-bars"></i>
                    </button>
                    <!-- logo small -->
                    <div class="phone-logo d-md-none d-sm-flex"> <img src="assets/images/color-log0.svg" alt="" class="img"></div>



                    <!-- App Search-->
                    <form class="app-search d-none d-lg-block">
                        <div class="position-relative">
                            <input type="text" class="form-control" placeholder="Search...">
                            <span class="bx bx-search-alt"></span>
                        </div>
                    </form>


                </div>

                <div class="d-flex">
                    <!-- small search -->
                    <div class="dropdown d-inline-block d-lg-none ms-2">
                        <button type="button" class="btn header-item noti-icon waves-effect" id="page-header-search-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="mdi mdi-magnify"></i>
                            </button>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0" aria-labelledby="page-header-search-dropdown">

                            <form class="p-3">
                                <div class="form-group m-0">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Search ..." aria-label="Recipient's username">
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="submit"><i class="mdi mdi-magnify"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="dropdown d-none d-lg-inline-block ms-1">
                        <button type="button" class="btn header-item noti-icon waves-effect" data-bs-toggle="fullscreen">
                                <i class="bx bx-fullscreen"></i>
                            </button>
                    </div>

                    <div class="dropdown d-inline-block d-none">

                        <!-- notifications, i will come to this later -->
                        <button type="button" class="btn header-item noti-icon waves-effect" id="page-header-notifications-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="bx bx-bell bx-tada"></i>
                                <span class="badge bg-danger rounded-pill">3</span>
                            </button>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0" aria-labelledby="page-header-notifications-dropdown">
                            <div class="p-3">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <h6 class="m-0" key="t-notifications"> Notifications </h6>
                                    </div>
                                    <div class="col-auto">
                                        <a href="#!" class="small" key="t-view-all"> View All</a>
                                    </div>
                                </div>
                            </div>
                            <div data-simplebar style="max-height: 230px;">
                                <a href="javascript: void(0);" class="text-reset notification-item">
                                    <div class="d-flex">
                                        <div class="avatar-xs me-3">
                                            <span class="avatar-title bg-primary rounded-circle font-size-16">
                                                    <i class="bx bx-cart"></i>
                                                </span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 class="mb-1" key="t-your-order">Your order is placed</h6>
                                            <div class="font-size-12 text-muted">
                                                <p class="mb-1" key="t-grammer">If several languages coalesce the grammar</p>
                                                <p class="mb-0"><i class="mdi mdi-clock-outline"></i> <span key="t-min-ago">3 min ago</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                <a href="javascript: void(0);" class="text-reset notification-item">
                                    <div class="d-flex">
                                        <img src="assets/images/users/avatar-3.jpg" class="me-3 rounded-circle avatar-xs" alt="user-pic">
                                        <div class="flex-grow-1">
                                            <h6 class="mb-1">James Lemire</h6>
                                            <div class="font-size-12 text-muted">
                                                <p class="mb-1" key="t-simplified">It will seem like simplified English.</p>
                                                <p class="mb-0"><i class="mdi mdi-clock-outline"></i> <span key="t-hours-ago">1 hours ago</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                <a href="javascript: void(0);" class="text-reset notification-item">
                                    <div class="d-flex">
                                        <div class="avatar-xs me-3">
                                            <span class="avatar-title bg-success rounded-circle font-size-16">
                                                    <i class="bx bx-badge-check"></i>
                                                </span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <h6 class="mb-1" key="t-shipped">Your item is shipped</h6>
                                            <div class="font-size-12 text-muted">
                                                <p class="mb-1" key="t-grammer">If several languages coalesce the grammar</p>
                                                <p class="mb-0"><i class="mdi mdi-clock-outline"></i> <span key="t-min-ago">3 min ago</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </a>

                                <a href="javascript: void(0);" class="text-reset notification-item">
                                    <div class="d-flex">
                                        <img src="assets/images/users/avatar-4.jpg" class="me-3 rounded-circle avatar-xs" alt="user-pic">
                                        <div class="flex-grow-1">
                                            <h6 class="mb-1">Salena Layfield</h6>
                                            <div class="font-size-12 text-muted">
                                                <p class="mb-1" key="t-occidental">As a skeptical Cambridge friend of mine occidental.</p>
                                                <p class="mb-0"><i class="mdi mdi-clock-outline"></i> <span key="t-hours-ago">1 hours ago</span></p>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="p-2 border-top d-grid">
                                <a class="btn btn-sm btn-link font-size-14 text-center" href="javascript:void(0)">
                                    <i class="mdi mdi-arrow-right-circle me-1"></i> <span key="t-view-more">View More..</span>
                                </a>
                            </div>
                        </div>
                    </div>



                    <div class="dropdown d-inline-block">
                        <button type="button" class="btn header-item waves-effect" id="page-header-user-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <img class="rounded-circle header-profile-user" src="assets/images/users/avatar-1.jpg"
                                    alt="Header Avatar">
                                <span class="d-none d-xl-inline-block ms-1" key="t-henry">Adroa Balinda</span>
                                <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
                            </button>
                        <div class="dropdown-menu dropdown-menu-end">
                            <!-- item-->
                            <a class="dropdown-item" href="myprofile.html"><i class="bx bx-user font-size-16 align-middle me-1"></i> <span key="t-profile">My Profile</span></a>
                            <a class="dropdown-item" href="my-logs.html"><i class="bx bx-time font-size-16 align-middle me-1"></i> <span key="t-profile">My Logs</span></a>
                            <a class="dropdown-item" href="auth-lock-screen.html"><i class="bx bx-lock-open font-size-16 align-middle me-1"></i> <span key="t-lock-screen">Lock screen</span></a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item text-danger" href="auth-login.html"><i class="bx bx-power-off font-size-16 align-middle me-1 text-danger"></i> <span key="t-logout">Logout</span></a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- ========== Left Sidebar Start ========== -->
        <div class="vertical-menu">
            <div data-simplebar class="h-100">
                <!--- Sidemenu -->
                <div id="sidebar-menu">
                    <!-- Left Menu Start -->
                    <ul class="metismenu list-unstyled text-capitalize" id="side-menu">
        
                        <!-- Dashboard -->
                        <li>
                            <a href="index.html" class="waves-effect">
                                <i class="bx bx-home"></i><span>Dashboard Overview</span>
                            </a>
                        </li>
        
                        <!-- Livestock Inventory -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-cow"></i>
                                <span>Livestock Inventory</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="animals.html"><i class="fas fa-paw"></i> Animals</a></li>
                                <li><a href="breeds.html"><i class="fas fa-dna"></i> Breeds</a></li>
                                <li><a href="groups.html"><i class="fas fa-object-group"></i> Groups/Pens</a></li>
                            </ul>
                        </li>
        
                        <!-- Vaccine Management -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-heartbeat"></i>
                                <span>Vaccine Management</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="health-records.html"><i class="fas fa-file-medical"></i> Health Records</a></li>
                                <li><a href="vaccine-management-schedule-vaccine.html"><i class="fas fa-calendar-alt"></i> Vaccinations Schedule</a></li>
                                <li><a href="vet-contacts.html"><i class="fas fa-address-book"></i> Veterinary Contacts</a></li>
                            </ul>
                        </li>
        
                        <!-- Breeding & Reproduction -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-baby"></i>
                                <span>Breeding & Reproduction</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="breeding-schedule.html"><i class="fas fa-calendar-check"></i> Breeding Schedule</a></li>
                                <li><a href="pregnancy_records.html"><i class="fas fa-baby-carriage"></i> Pregnancy Tracking</a></li>
                                <li><a href="birth-records.html"><i class="fas fa-birthday-cake"></i> Birth Records</a></li>
                            </ul>
                        </li>
        
                        <!-- Health Management -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-drumstick-bite"></i>
                                <span>Health Management</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="feed-inventory.html"><i class="fas fa-utensils"></i> Feed Inventory</a></li>
                                <li><a href="feeding-schedule.html"><i class="fas fa-clock"></i> Feeding Schedule</a></li>
                                <li><a href="nutrition-plans.html"><i class="fas fa-clipboard-list"></i> Nutrition Plans</a></li>
                            </ul>
                        </li>
        
                        <!-- Production & Performance -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-chart-line"></i>
                                <span>Production & Performance</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="weight-tracking.html"><i class="fas fa-weight"></i> Weight Tracking</a></li>
                            </ul>
                        </li>
        
                        <!-- Sales Management -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-dollar-sign"></i>
                                <span>Sales Management</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="buyers.html"><i class="fas fa-users"></i> Buyers</a></li>
                                <li><a href="sellers.html"><i class="fas fa-user-tie"></i> Sellers</a></li>
                                <li><a href="sales.html"><i class="fas fa-shopping-cart"></i> Livestock Sale List</a></li>
                                <li><a href="profit-analysis.html"><i class="fas fa-chart-pie"></i> Profit Analysis</a></li>
                            </ul>
                        </li>
        
                        <!-- Reports & Analytics -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-chart-bar"></i>
                                <span>Reports & Analytics</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="health-reports.html"><i class="fas fa-file-medical-alt"></i> Health Reports</a></li>
                                <li><a href="production-reports.html"><i class="fas fa-chart-line"></i> Production Reports</a></li>
                                <li><a href="financial-reports.html"><i class="fas fa-coins"></i> Financial Reports</a></li>
                            </ul>
                        </li>
        
                        <!-- Settings & Configuration -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-cog"></i>
                                <span>Settings & Configuration</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="user-management.html"><i class="fas fa-users-cog"></i> User Management</a></li>
                                <li><a href="farm-details.html"><i class="fas fa-tractor"></i> Farm Details</a></li>
                                <li><a href="system-preferences.html"><i class="fas fa-sliders-h"></i> System Preferences</a></li>
                            </ul>
                        </li>
        
                        <!-- Help & Support -->
                        <li>
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="fas fa-question-circle"></i>
                                <span>Help & Support</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="user-guides.html"><i class="fas fa-book"></i> User Guides</a></li>
                                <li><a href="contact-support.html"><i class="fas fa-headset"></i> Contact Support</a></li>
                            </ul>
                        </li>
        
                        <!-- Original HR and System Administration Menus (Hidden) -->
                        <li class="d-none">
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="mdi mdi-sitemap"></i>
                                <span>Org Structure</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="org-designations.html"><i class="mdi mdi-account-tie"></i> Designations</a></li>
                                <li><a href="org-departments.html"><i class="mdi mdi-domain"></i> Departments</a></li>
                                <li><a href="org-employment-types.html"><i class="mdi mdi-briefcase"></i> Employment Types</a></li>
                                <li><a href="org-affiliated-institution.html"><i class="mdi mdi-school"></i> Affiliated Institution</a></li>
                            </ul>
                        </li>
        
                        <li class="d-none">
                            <a href="javascript: void(0);" class="waves-effect has-arrow">
                                <i class="mdi mdi-account-multiple"></i>
                                <span>Users</span>
                            </a>
                            <ul class="sub-menu" aria-expanded="false">
                                <li><a href="user-registration.html"><i class="mdi mdi-account-plus"></i> Add User</a></li>
                                <li><a href="user-userlist.html"><i class="mdi mdi-account-group"></i> Manage Users</a></li>
                                <li><a href="users-deactivated.html"><i class="mdi mdi-account-off"></i> Deactivated Users</a></li>
                                <li><a href="use-logs.html"><i class="mdi mdi-file-chart"></i> System Logs</a></li>
                                <li><a href="users-roles.html"><i class="mdi mdi-shield-account"></i> System Roles</a></li>
                            </ul>
                        </li>
        
                    </ul>
                </div>
                <!-- Sidebar -->
            </div>
        </div>
        <!-- Left Sidebar End -->



        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">

            <div class="page-content">
                <div class="container-fluid">

                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                                <h4 class="mb-sm-0 font-size-18">Dashboard</h4>

                                <div class="page-title-right">
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Dashboard</a></li>
                                       
                                    </ol>
                                </div>

                            </div>
                        </div>
                    </div>

              <!-- Livestock Stats -->
<!-- Livestock Stats -->
<div class="row">
    <!-- Total Livestock -->
   <!-- Total Livestock -->
   <div class="col-md-3">
    <div class="card mini-stats-wid elevated-card">
        <div class="card-body">
            <div class="d-flex">
                <div class="flex-grow-1">
                    <p class="text-muted fw-medium">Total Livestock</p>
                    <h4 class="mb-0">156</h4>
                </div>
                <div class="flex-shrink-0 align-self-center">
                    <div class="avatar-sm rounded-circle bg-success mini-stat-icon">
                        <span class="avatar-title rounded-circle bg-success">
                            <i class="fas fa-paw font-size-24"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


  

    <!-- Livestock Needs Attention -->
    <div class="col-md-3">
        <div class="card mini-stats-wid elevated-card">
            <div class="card-body">
                <div class="d-flex">
                    <div class="flex-grow-1">
                        <p class="text-muted fw-medium">Needs Attention</p>
                        <h4 class="mb-0">6</h4>
                    </div>
                    <div class="flex-shrink-0 align-self-center">
                        <div class="avatar-sm rounded-circle bg-danger mini-stat-icon">
                            <span class="avatar-title rounded-circle bg-danger">
                                <i class="fas fa-exclamation-circle font-size-24 text-white"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- New Livestock Purchased -->
    <div class="col-md-3">
        <div class="card mini-stats-wid elevated-card">
            <div class="card-body">
                <div class="d-flex">
                    <div class="flex-grow-1">
                        <p class="text-muted fw-medium">New Livestock Purchased</p>
                        <h4 class="mb-0">6</h4>
                    </div>
                    <div class="flex-shrink-0 align-self-center">
                        <div class="avatar-sm rounded-circle bg-primary mini-stat-icon">
                            <span class="avatar-title rounded-circle bg-primary">
                                <i class="fas fa-shopping-cart font-size-24 text-white"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Livestock Ready for Sale -->
    <div class="col-md-3">
        <div class="card mini-stats-wid elevated-card">
            <div class="card-body">
                <div class="d-flex">
                    <div class="flex-grow-1">
                        <p class="text-muted fw-medium">Ready for Sale</p>
                        <h4 class="mb-0">45</h4>
                       
                    </div>
                    <div class="flex-shrink-0 align-self-center">
                        <div class="avatar-sm rounded-circle bg-success mini-stat-icon">
                            <span class="avatar-title rounded-circle bg-success">
                                <i class="fas fa-check-circle font-size-24 text-white"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
                     <!-- end of stats -->



                    <!-- quick stats -->
                    <div class="row">
                        <div class="col-sm-12 col-md-4">
                            <div class="card shadow" style="border-radius: 12px; border: none; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);">
                                <div class="card-body">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th style="color: #495057; font-weight: 600; border-top: none;">CATEGORY</th>
                                                <th style="color: #495057; font-weight: 600; border-top: none; text-align: right;">QUANTITY</th>
                                                <th style="color: #495057; font-weight: 600; border-top: none; text-align: right;">ACTIONS</th>
                                            </tr>
                                        </thead>
                                        <tbody id="lm-table-data">
                                            <tr>
                                                <td style="color: #2C3E50; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2;">Animals at Target Achieved Weight</td>
                                                <td style="color: #28A745; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">67</td>
                                                <td style="padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">
                                                    <button class="btn" style="background-color: #28A745; color: white; border-radius: 5px; padding: 5px 15px; font-size: 14px;">View</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color: #2C3E50; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2;">Animals Below Target Weight</td>
                                                <td style="color: #28A745; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">32</td>
                                                <td style="padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">
                                                    <button class="btn" style="background-color: #28A745; color: white; border-radius: 5px; padding: 5px 15px; font-size: 14px;">View</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color: #2C3E50; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2;">Animals Above Target Weight</td>
                                                <td style="color: #28A745; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">45</td>
                                                <td style="padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">
                                                    <button class="btn" style="background-color: #28A745; color: white; border-radius: 5px; padding: 5px 15px; font-size: 14px;">View</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color: #2C3E50; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2;">Animals At or Near Target Weight</td>
                                                <td style="color: #28A745; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">54</td>
                                                <td style="padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">
                                                    <button class="btn" style="background-color: #28A745; color: white; border-radius: 5px; padding: 5px 15px; font-size: 14px;">View</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color: #2C3E50; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2;">Pending Vaccinations</td>
                                                <td style="color: #28A745; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">8</td>
                                                <td style="padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">
                                                    <button class="btn" style="background-color: #28A745; color: white; border-radius: 5px; padding: 5px 15px; font-size: 14px;">View</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color: #2C3E50; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2;">Healthy Animals</td>
                                                <td style="color: #28A745; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">876</td>
                                                <td style="padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">
                                                    <button class="btn" style="background-color: #28A745; color: white; border-radius: 5px; padding: 5px 15px; font-size: 14px;">View</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="color: #2C3E50; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2;">Pregnant Animals</td>
                                                <td style="color: #28A745; font-weight: 500; padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">13</td>
                                                <td style="padding: 15px 12px; border-top: 1px solid #f2f2f2; text-align: right;">
                                                    <button class="btn" style="background-color: #28A745; color: white; border-radius: 5px; padding: 5px 15px; font-size: 14px;">View</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                       
                        <div class="col-sm-12 col-md-4">
                            <div class="card shadow" style="border-radius: 12px; border: none; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);">
                              <div class="card">
                                <div class="card-header">
                                  <h2 class="card-title">Cattle Distribution Overview</h2>
                                </div>
                                <div class="card-body">
                                  <div class="chart-container">
                                    <canvas id="lm-cattle-chart" style="height: 400px;"></canvas>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- RFID Tags Distribution Panel -->
<div class="col-xl-4 col-md-5 col-lg-4 px-sm-30px">
    <div class="card shadow" style="border-radius: 12px; border: none; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">RFID Tags Distribution</h2>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="lm-rfid-chart" style="height: 400px;"></canvas>
                </div>
                <div class="lm-stats-container mt-4">
                    <div class="row">
                        <div class="col-4 text-center">
                            <div class="lm-stat-box" style="background-color: #6C757D; color: white;"> 
                                <div class="lm-stat-value" id="lm-total-animals">150</div>
                                <div class="lm-stat-text">Total Animals</div>
                            </div>
                        </div>
                        <div class="col-4 text-center">
                            <div class="lm-stat-box">
                                <div class="lm-stat-value" id="lm-with-tags">120</div>
                                <div class="lm-stat-text">With RFID Tags</div>
                            </div>
                        </div>
                        <div class="col-4 text-center">
                            <div class="lm-stat-box">
                                <div class="lm-stat-value" id="lm-without-tags">30</div>
                                <div class="lm-stat-text">Without RFID Tags</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-sm-12 col-md-4">
    <div class="card">
        <div class="card-header">
            <div class="d-flex flex-wrap align-items-start">
                <h5 class="mb-3 me-2 text-black">Monthly Sales Distribution</h5>
            </div>
        </div>
        <div class="card-body">
            <div class="controls">
                <div class="control-group">
                    <label>Select Year:</label>
                    <select id="yearSelectMonthly">
                        <option value="2023">2023</option>
                        <option value="2024">2024</option>
                        <option value="2025">2025</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Select Month:</label>
                    <select id="monthSelectMonthly">
                        <option value="January">January</option>
                        <option value="February">February</option>
                        <option value="March">March</option>
                        <option value="April">April</option>
                        <option value="May">May</option>
                        <option value="June">June</option>
                        <option value="July">July</option>
                        <option value="August">August</option>
                        <option value="September">September</option>
                        <option value="October">October</option>
                        <option value="November">November</option>
                        <option value="December">December</option>
                    </select>
                </div>
            </div>
            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-title">Monthly Sales Distribution</div>
                    <div class="chart-wrapper">
                        <canvas id="salesChart"></canvas>
                    </div>
                    <div class="revenue-card monthly">
                        <span class="revenue-label">Monthly Revenue for <span id="currentMonth">January 2023</span></span>
                        <span class="revenue-amount" id="monthlyRevenue">KSH 0</span>
                        <span class="revenue-change" id="monthlyChange">+0% from previous month</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-12 col-md-4">
    <div class="card">
        <div class="card-header">
            <div class="d-flex flex-wrap align-items-start">
                <h5 class="mb-3 me-2 text-black">Yearly Sales Distribution</h5>
            </div>
        </div>
        <div class="card-body">
            <div class="controls">
                <div class="control-group">
                    <label>Select Year:</label>
                    <select id="yearSelectYearly">
                        <option value="2023">2023</option>
                        <option value="2024">2024</option>
                        <option value="2025">2025</option>
                    </select>
                </div>
            </div>
            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-title">Yearly Sales Distribution</div>
                    <div class="chart-wrapper">
                        <canvas id="revenueChart"></canvas>
                    </div>
                    <div class="revenue-card yearly">
                        <span class="revenue-label">Yearly Revenue for <span id="currentYear">2023</span></span>
                        <span class="revenue-amount" id="yearlyRevenue">KSH 0</span>
                        <span class="revenue-change" id="yearlyChange">+0% from previous year</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Daily Distribution Modal -->
<div id="dailyModal" class="modal">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2 id="modalTitle">Daily Distribution</h2>
        <canvas id="dailyDistributionChart"></canvas>
    </div>
</div>

                        <div class="col-sm-12 col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <div class="d-flex flex-wrap align-items-start">
                                        <h5 class="mb-3 me-2 text-black">Staff Turnover by Department Feb 2025</h5>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="NewContainer"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <div class="d-flex flex-wrap align-items-start">
                                        <h5 class="mb-3 me-2 text-black">Nature Of Exits</h5>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="ExitChart"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <div class="d-flex flex-wrap align-items-start">
                                        <h5 class="mb-3 me-2 text-black">Nature of Entries</h5>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="EntryChart"></div>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-12 col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <div class="d-flex flex-wrap align-items-start">
                                        <h5 class="mb-3 me-2 text-black">Gender Comparissons</h5>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="GenderContainer"></div>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-12 col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <div class="d-flex flex-wrap align-items-start">
                                        <h5 class="mb-3 me-2 text-black">Distribution of Employees with Disabilities</h5>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="disabilityChart"></div>
                                </div>
                            </div>
                        </div>

                       
                    </div>
                    <!-- end of quick stats -->
                   
                    <!-- quick stats -->

                </div>
                <!-- container-fluid -->
            </div>
            <!-- End Page-content -->


            <footer class="footer ">
                <div class="container-fluid ">
                    <div class="row ">
                        <div class="col-sm-6 ">
                            <script>
                                document.write(new Date().getFullYear())
                            </script> © Best Birdy
                        </div>
                        <div class="col-sm-6 ">
                            <div class="text-sm-end d-sm-block ">
                                Best Birdy Billing system. 
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
        <!-- end main content-->

    </div>
    <!-- END layout-wrapper -->

    <!-- Right bar overlay-->
    <div class="rightbar-overlay "></div>

    <!-- JAVASCRIPT -->
    <script src="assets/libs/jquery/jquery.min.js "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js "></script>
    <script src="assets/libs/metismenu/metisMenu.min.js "></script>
    <script src="assets/libs/simplebar/simplebar.min.js "></script>
    <script src="assets/libs/node-waves/waves.min.js "></script>

     <!-- Bootstrap select -->
     <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js "></script>

    <!-- numerals number formater -->
    <script src="assets/libs/numeral/numeral.js "></script>

    <!-- apexcharts -->
    <script src="assets/libs/apexcharts/apexcharts.min.js "></script>


    <!-- dashboard init -->
    <script src="assets/js/pages/dashboard.init.js "></script>
    <!-- Saas dashboard init -->
    <script src="assets/js/pages/earlyBirdDashboard.js "></script>
    <script src="assets/js/pages/saas-dashboard.init.js"></script>

    <!-- highchart map modules -->
 <script src="https://code.highcharts.com/maps/highmaps.js"></script>
 <script src="https://code.highcharts.com/highcharts.js"></script>
 <script src="https://code.highcharts.com/highcharts-more.js"></script>
 <script src="https://code.highcharts.com/modules/exporting.js"></script>

 <!-- highchart js files -->
 <script src="https://code.highcharts.com/modules/heatmap.js"></script>
 <script src="https://code.highcharts.com/modules/export-data.js"></script>
 <script src="https://code.highcharts.com/modules/accessibility.js"></script>

  <script src="assets/js/pages/revenue-by-time.js "></script>
  <script src="assets/js/pages/annial-perfomance.js"></script>
  <script src="assets/js/pages/county-revenue.js"></script>

  <script src="assets/js/dataMap.js "></script>

  <!-- highcharts cdn -->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/drilldown.js"></script>




    <!-- App js -->
    <script src="assets/js/app.js "></script>
    <script src="assets/js/custom.js "></script>

<!-- chart js  -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- end of CDNs -->
<script>
    Highcharts.chart('AttendanceContainer', {
     chart: {
         type: 'column'
     },
     title: {
         text: null
     },
     xAxis: {
         type: 'category',
         labels: {
             rotation: -90, // Rotate labels vertically
             align: 'right',
             style: {
                 fontSize: '10px',
                 fontFamily: 'Verdana, sans-serif'
             }
         }
     },
     yAxis: {
         min: 0,
         title: {
             text: 'Total Days'
         },
         stackLabels: {
             enabled: true,
             style: {
                 fontWeight: 'bold',
                 color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
             }
         }
     },
     legend: {
         align: 'center',
         
         verticalAlign: 'bottom',
         floating: false,
         backgroundColor: Highcharts.defaultOptions.legend.backgroundColor || 'white',
         borderColor: '#CCC',
         borderWidth: 1,
         shadow: false
     },
     tooltip: {
         headerFormat: '<b>Attendance Report For {point.key}</b><br/> ',
         pointFormatter: function () {
             const present = this.series.chart.series[0].data[this.index].y;
             const absent = this.series.chart.series[1].data[this.index].y;
             const total = present + absent;
             return '<span style="font-weight: 600; color: #0caf60;">Present:</span> ' + present +
                 '<br/>' +
                 '<span style="font-weight: 600; color: #ff3a6e;">Absent:</span> ' + absent + '<br/>' +
                 '<span style="font-weight: 600;">Total:</span> ' + total;
         }
     },
     plotOptions: {
         column: {
             stacking: 'normal',
             pointPadding: 0.2,
            borderWidth: 0,
             dataLabels: {
                 enabled: true,
                 rotation: -90, // Rotate data labels vertically
                 align: 'right',
                 verticalAlign: 'middle',
                 y: 10, // Adjust vertical position
                
             }
         },
        
     },
     series: [
    {
        name: 'Present',
        color: '#0caf60',
        data: [
            { name: 'JAN', y: 6200, drilldown: 'January-Attendance' },
            { name: 'FEB', y: 7480, drilldown: 'February-Attendance' },
            { name: 'MAR', y: 7450, drilldown: 'March-Attendance' },
            { name: 'APR', y: 7400, drilldown: 'April-Attendance' },
            { name: 'MAY', y: 7350, drilldown: 'May-Attendance' },
            { name: 'JUN', y: 7300, drilldown: 'June-Attendance' },
            { name: 'JUL', y: 7200, drilldown: 'July-Attendance' },
            { name: 'AUG', y: 7100, drilldown: 'August-Attendance' },
            { name: 'SEP', y: 6950, drilldown: 'September-Attendance' },
            { name: 'OCT', y: 6700, drilldown: 'October-Attendance' },
            { name: 'NOV', y: 6400, drilldown: 'November-Attendance' },
            { name: 'DEC', y: 6000, drilldown: 'December-Attendance' }
        ]
    },
    {
        name: 'Absent',
        color: '#ff3a6e',
        data: [
            { name: 'JAN', y: 1820, drilldown: 'January-Absenteeism' },
            { name: 'FEB', y: 240, drilldown: 'February-Absenteeism' },
            { name: 'MAR', y: 270, drilldown: 'March-Absenteeism' },
            { name: 'APR', y: 320, drilldown: 'April-Absenteeism' },
            { name: 'MAY', y: 370, drilldown: 'May-Absenteeism' },
            { name: 'JUN', y: 420, drilldown: 'June-Absenteeism' },
            { name: 'JUL', y: 520, drilldown: 'July-Absenteeism' },
            { name: 'AUG', y: 620, drilldown: 'August-Absenteeism' },
            { name: 'SEP', y: 770, drilldown: 'September-Absenteeism' },
            { name: 'OCT', y: 1020, drilldown: 'October-Absenteeism' },
            { name: 'NOV', y: 1320, drilldown: 'November-Absenteeism' },
            { name: 'DEC', y: 1720, drilldown: 'December-Absenteeism' }
        ]
    }
],
     drilldown: {
         series: [
             // January
             {
                 id: 'January-Attendance',
                 name: 'Attendance Data for January',
                 data: generateDailyData(31, 0.95) // 31 days in January
             },
             {
                 id: 'January-Absenteeism',
                 name: 'Absenteeism Data for January',
                 data: generateDailyData(31, 0.05) // 31 days in January
             },
             // February
             {
                 id: 'February-Attendance',
                 name: 'Attendance Data for February',
                 data: generateDailyData(28, 0.65) // 28 days in February
             },
             {
                 id: 'February-Absenteeism',
                 name: 'Absenteeism Data for February',
                 data: generateDailyData(28, 0.35) // 28 days in February
             },
             // March
             {
                 id: 'March-Attendance',
                 name: 'Attendance Data for March',
                 data: generateDailyData(31, 0.25) // 31 days in March
             },
             {
                 id: 'March-Absenteeism',
                 name: 'Absenteeism Data for March',
                 data: generateDailyData(31, 0.75) // 31 days in March
             },
             // April
             {
                 id: 'April-Attendance',
                 name: 'Attendance Data for April',
                 data: generateDailyData(30, 0.85) // 30 days in April
             },
             {
                 id: 'April-Absenteeism',
                 name: 'Absenteeism Data for April',
                 data: generateDailyData(30, 0.15) // 30 days in April
             },
             // May
             {
                 id: 'May-Attendance',
                 name: 'Attendance Data for May',
                 data: generateDailyData(31, 0.95) // 31 days in May
             },
             {
                 id: 'May-Absenteeism',
                 name: 'Absenteeism Data for May',
                 data: generateDailyData(31, 0.05) // 31 days in May
             },
             // June
             {
                 id: 'June-Attendance',
                 name: 'Attendance Data for June',
                 data: generateDailyData(30, 0.5) // 30 days in June
             },
             {
                 id: 'June-Absenteeism',
                 name: 'Absenteeism Data for June',
                 data: generateDailyData(30, 0.50) // 30 days in June
             },
             // July
             {
                 id: 'July-Attendance',
                 name: 'Attendance Data for July',
                 data: generateDailyData(31, 0.95) // 31 days in July
             },
             {
                 id: 'July-Absenteeism',
                 name: 'Absenteeism Data for July',
                 data: generateDailyData(31, 0.05) // 31 days in July
             },
             // August
             {
                 id: 'August-Attendance',
                 name: 'Attendance Data for August',
                 data: generateDailyData(31, 0.95) // 31 days in August
             },
             {
                 id: 'August-Absenteeism',
                 name: 'Absenteeism Data for August',
                 data: generateDailyData(31, 0.05) // 31 days in August
             },
             // September
             {
                 id: 'September-Attendance',
                 name: 'Attendance Data for September',
                 data: generateDailyData(30, 0.95) // 30 days in September
             },
             {
                 id: 'September-Absenteeism',
                 name: 'Absenteeism Data for September',
                 data: generateDailyData(30, 0.05) // 30 days in September
             },
             // October
             {
                 id: 'October-Attendance',
                 name: 'Attendance Data for October',
                 data: generateDailyData(31, 0.95) // 31 days in October
             },
             {
                 id: 'October-Absenteeism',
                 name: 'Absenteeism Data for October',
                 data: generateDailyData(31, 0.05) // 31 days in October
             },
             // November
             {
                 id: 'November-Attendance',
                 name: 'Attendance Data for November',
                 data: generateDailyData(30, 0.95) // 30 days in November
             },
             {
                 id: 'November-Absenteeism',
                 name: 'Absenteeism Data for November',
                 data: generateDailyData(30, 0.05) // 30 days in November
             },
             // December
             {
                 id: 'December-Attendance',
                 name: 'Attendance Data for December',
                 data: generateDailyData(31, 0.95) // 31 days in December
             },
             {
                 id: 'December-Absenteeism',
                 name: 'Absenteeism Data for December',
                 data: generateDailyData(31, 0.05) // 31 days in December
             }
         ]
     }
 });
 
 // Helper function to generate daily data
 function generateDailyData(daysInMonth, ratio) {
     const data = [];
     for (let day = 1; day <= daysInMonth; day++) {
         data.push([`${day}`, Math.round(7720 * ratio)]);
     }
     return data;
 }
 </script>

 <script>
    
 </script>

<!-- gender comparrisons -->
 <script>
  Highcharts.chart('GenderContainer', {
    chart: {
        type: 'pie'
    },
    title: {
        text: null
    },
    subtitle: {
        text: 'Click the slices to view department distribution.'
    },

    accessibility: {
        announceNewData: {
            enabled: true
        },
        point: {
        }
    },

    plotOptions: {
        series: {
            borderRadius: 5,
            dataLabels: [
                {
                    enabled: true,
                    distance: 15,
                    format: '{point.name}: {point.y}',
                },
                {
                    enabled: true,
                    distance: '-30%',
                    filter: {
                        property: 'percentage',
                        operator: '>',
                        value: 5
                    },
                    format: '{point.y}',
                    style: {
                        fontSize: '0.9em',
                        textOutline: 'none'
                    }
                }
            ]
        }
    },

    tooltip: {
        headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
        pointFormat: '<span style="color:{point.color}">{point.name}</span>: ' +
            '<b>{point.y} of {point.total}</b><br/>'
    },

    series: [
        {
            name: 'Gender',
            colorByPoint: true,
            data: [
                {
                    name: 'Male',
                    y: 4620,
                    drilldown: 'Male',
                    total: 4620
                },
                {
                    name: 'Female',
                    y: 3100,
                    drilldown: 'Female',
                    total: 3100
                }
            ]
        }
    ],
    
    drilldown: {
        series: [
            {
                name: 'Male Employees',
                id: 'Male',
                data: [
                    ['Health Services', 1500],
                    ['Education & ICT', 1200],
                    ['Finance & Economic Planning', 650],
                    ['Agriculture, Livestock & Fisheries', 500],
                    ['Transport & Infrastructure', 420],
                    ['Trade, Industry & Cooperatives', 250],
                    ['Other', 100]
                ]
            },
            {
                name: 'Female Employees',
                id: 'Female',
                data: [
                    ['Health Services', 1250],
                    ['Education & ICT', 950],
                    ['Finance & Economic Planning', 500],
                    ['Agriculture, Livestock & Fisheries', 200],
                    ['Transport & Infrastructure', 150],
                    ['Trade, Industry & Cooperatives', 50],
                    ['Other', 100]
                ]
            }
        ]
    }
});

 </script>
<!-- end of gender comparissons -->

<!-- todays attendance chart -->
 <script>
    Highcharts.chart('TodayAttendanceContainer', {
    chart: {
        type: 'column'
    },
    title: {
        text: null
    },
    subtitle: {
        text: 'Click the columns to view department-wise attendance.'
    },

    accessibility: {
        announceNewData: {
            enabled: true
        },
        point: {
            valueSuffix: '%'
        }
    },

    xAxis: {
        type: 'category',
        title: {
            text: 'Attendance Status'
        }
    },
    yAxis: {
        title: {
            text: 'Number of Employees'
        }
    },

    plotOptions: {
        column: {
            dataLabels: {
                enabled: true,
                formatter: function() {
                    let percentage = (this.y / 7689 * 100).toFixed(1);
                    return `${this.y} (${percentage}%)`;
                }
            }
        }
    },

    plotOptions: {
         column: {
             stacking: 'normal',
             pointPadding: 0.2,
            borderWidth: 0,
             dataLabels: {
                 enabled: true,
                 rotation: -90, // Rotate data labels vertically
                 align: 'right',
                 verticalAlign: 'middle',
                 y: 10, // Adjust vertical position
                
             }
         },
        
     },

    tooltip: {
        headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
        pointFormat: '<span style="color:{point.color}">{point.name}</span>: ' +
            '<b>{point.y} ({(point.y / 7689 * 100).toFixed(1)}%)</b> of total<br/>'
    },

    series: [
        {
            name: 'Attendance',
            colorByPoint: true,
            data: [
                {
                    name: 'Present',
                    y: 6500,
                    drilldown: 'Present'
                },
                {
                    name: 'Absent',
                    y: 1189,
                    drilldown: 'Absent'
                }
            ]
        }
    ],
    
    drilldown: {
        series: [
            {
                name: 'Present Employees',
                id: 'Present',
                type: 'column',
                data: [
                    ['Health Services', 2200],
                    ['Education & ICT', 1500],
                    ['Finance & Economic Planning', 900],
                    ['Agriculture, Livestock & Fisheries', 600],
                    ['Transport & Infrastructure', 300],
                    ['Trade, Industry & Cooperatives', 800],
                    ['Other', 200]
                ]
            },
            {
                name: 'Absent Employees',
                id: 'Absent',
                type: 'column',
                data: [
                    ['Health Services', 200],
                    ['Education & ICT', 300],
                    ['Finance & Economic Planning', 100],
                    ['Agriculture, Livestock & Fisheries', 50],
                    ['Transport & Infrastructure', 50],
                    ['Trade, Industry & Cooperatives', 400],
                    ['Other', 89]
                ]
            }
        ]
    }
});

 </script>
 <!-- end of attendance -->

 <!-- newley hired staff distribution bey department start -->
 <script>
    Highcharts.chart('NewContainer', {
     chart: {
         type: 'bar'
     },
     title: {
         text: null
     },
     subtitle: {
         text: 'Comparison of new hires and exits across departments'
     },
     xAxis: {
         categories: [
             'Health Services',
             'Education & ICT',
             'Finance & Economic Planning',
             'Agriculture, Livestock & Fisheries',
             'Transport & Infrastructure',
             'Trade, Industry & Cooperatives',
             'Other'
         ],
         title: {
             text: 'Departments'
         }
     },
     yAxis: {
         min: 0,
         title: {
             text: 'Number of Employees'
         }
     },
     legend: {
         enabled: true
     },
     tooltip: {
         shared: true,
         pointFormat: '<b>{series.name}: {point.y}</b>'
     },
     plotOptions: {
         bar: {
             dataLabels: {
                 enabled: true
             },
             stacking: 'normal'
         }
     },
     series: [{
         name: 'New Hires',
         data: [12, 10, 8, 7, 6, 5, 5], // Adjusted new hires to sum up to 53
         color: '#33FF57'
     }, {
         name: 'Exits',
         data: [3, 2, 2, 2, 2, 1, 1], // Total exits remain 13
         color: '#FF5733'
     }],
     
     // Display total hires and exits at the bottom in bold, visible, and right-aligned
     caption: {
         text: '<div style="text-align: right; font-size: 16px; font-weight: bold; color: #000;">Total New Hires: 53 | Total Exits: 13</div>',
         useHTML: true
     }
 });
 </script>
 
 

 <!-- newley hired staff distribution bey department End -->



 <script>
    Highcharts.chart('ExitChart', {
        chart: {
            type: 'pie'
        },
        title: {
            text: 'Nature of Exits'
        },
        subtitle: {
            text: 'Click on a category to view department-wise breakdown'
        },
        accessibility: {
            announceNewData: {
                enabled: true
            }
        },
        plotOptions: {
            pie: {
                dataLabels: {
                    enabled: true,
                    format: '{point.name}: {point.y}'
                }
            }
        },
        series: [{
            name: 'Exits',
            colorByPoint: true,
            data: [
                {
                    name: 'Death',
                    y: 1,
                    drilldown: 'death'
                },
                {
                    name: 'Dismissal',
                    y: 4,
                    drilldown: 'dismissal'
                },
                {
                    name: 'Resignation',
                    y: 5,
                    drilldown: 'resignation'
                },
                {
                    name: 'Transfers',
                    y: 2,
                    drilldown: 'transfers'
                },
                {
                    name: 'Other',
                    y: 1,
                    drilldown: 'other'
                }
            ]
        }],
        drilldown: {
            series: [
                {
                    id: 'death',
                    name: 'Death - Department Breakdown',
                    data: [
                        ['Health Services', 1]
                    ]
                },
                {
                    id: 'dismissal',
                    name: 'Dismissal - Department Breakdown',
                    data: [
                        ['Health Services', 1],
                        ['Education & ICT', 1],
                        ['Finance & Economic Planning', 1],
                        ['Agriculture, Livestock & Fisheries', 1]
                    ]
                },
                {
                    id: 'resignation',
                    name: 'Resignation - Department Breakdown',
                    data: [
                        ['Health Services', 2],
                        ['Education & ICT', 1],
                        ['Finance & Economic Planning', 1],
                        ['Agriculture, Livestock & Fisheries', 1]
                    ]
                },
                {
                    id: 'transfers',
                    name: 'Transfers - Department Breakdown',
                    data: [
                        ['Health Services', 1],
                        ['Education & ICT', 1]
                    ]
                },
                {
                    id: 'other',
                    name: 'Other - Department Breakdown',
                    data: [
                        ['Health Services', 1]
                    ]
                }
            ]
        }
    });
</script>

<script>
    Highcharts.chart('EntryChart', {
        chart: {
            type: 'pie'
        },
        title: {
            text: 'Nature of New Hires'
        },
        subtitle: {
            text: 'Click on a category to view department-wise breakdown'
        },
        accessibility: {
            announceNewData: {
                enabled: true
            }
        },
        plotOptions: {
            pie: {
                dataLabels: {
                    enabled: true,
                    format: '{point.name}: {point.y}'
                }
            }
        },
        series: [{
            name: 'New Hires',
            colorByPoint: true,
            data: [
                {
                    name: 'Direct Recruitment',
                    y: 30,
                    drilldown: 'direct'
                },
                {
                    name: 'Transfers In',
                    y: 10,
                    drilldown: 'transfers_in'
                },
                {
                    name: 'Rehired',
                    y: 8,
                    drilldown: 'rehired'
                },
                {
                    name: 'Other',
                    y: 5,
                    drilldown: 'other'
                }
            ]
        }],
        drilldown: {
            series: [
                {
                    id: 'direct',
                    name: 'Direct Recruitment - Department Breakdown',
                    data: [
                        ['Health Services', 10],
                        ['Education & ICT', 8],
                        ['Finance & Economic Planning', 5],
                        ['Agriculture, Livestock & Fisheries', 3],
                        ['Transport & Infrastructure', 2],
                        ['Trade, Industry & Cooperatives', 1],
                        ['Other', 1]
                    ]
                },
                {
                    id: 'transfers_in',
                    name: 'Transfers In - Department Breakdown',
                    data: [
                        ['Health Services', 3],
                        ['Education & ICT', 2],
                        ['Finance & Economic Planning', 2],
                        ['Agriculture, Livestock & Fisheries', 1],
                        ['Transport & Infrastructure', 1],
                        ['Trade, Industry & Cooperatives', 1]
                    ]
                },
                {
                    id: 'rehired',
                    name: 'Rehired - Department Breakdown',
                    data: [
                        ['Health Services', 3],
                        ['Education & ICT', 2],
                        ['Finance & Economic Planning', 2],
                        ['Agriculture, Livestock & Fisheries', 1]
                    ]
                },
                {
                    id: 'other',
                    name: 'Other - Department Breakdown',
                    data: [
                        ['Health Services', 2],
                        ['Education & ICT', 1],
                        ['Finance & Economic Planning', 1],
                        ['Agriculture, Livestock & Fisheries', 1]
                    ]
                }
            ]
        }
    });
</script>







<script>
    Highcharts.chart('disabilityChart', {
        chart: {
            type: 'pie',
            backgroundColor: 'transparent',
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
            text: null
        },
        subtitle: {
            text: 'Click to see department-wise distribution'
        },
        accessibility: {
            point: {
                valueSuffix: ''
            }
        },
        plotOptions: {
            pie: {
                dataLabels: {
                    enabled: true,
                    format: '{point.name}: {point.y} ({point.percentage:.1f}%)' // Shows count + percentage
                },
                startAngle: -90,
                endAngle: 90,
                center: ['50%', '75%'],
                size: '110%'
            }
        },
        series: [{
            name: 'Gender',
            colorByPoint: true,
            innerSize: '50%', // Donut effect
            data: [
                {
                    name: 'Male',
                    y: 35,
                    drilldown: 'male'
                },
                {
                    name: 'Female',
                    y: 24,
                    drilldown: 'female'
                }
            ]
        }],
        drilldown: {
            series: [
                {
                    id: 'male',
                    name: 'Male Employees with Disabilities - Department Breakdown',
                    dataLabels: {
                        format: '{point.name}: {point.y} ({point.percentage:.1f}%)' // Percentage for drilldown
                    },
                    data: [
                        ['Health Services', 10],
                        ['Education & ICT', 6],
                        ['Finance & Economic Planning', 5],
                        ['Agriculture, Livestock & Fisheries', 4],
                        ['Transport & Infrastructure', 4],
                        ['Trade, Industry & Cooperatives', 3],
                        ['Other', 3]
                    ]
                },
                {
                    id: 'female',
                    name: 'Female Employees with Disabilities - Department Breakdown',
                    dataLabels: {
                        format: '{point.name}: {point.y} ({point.percentage:.1f}%)'
                    },
                    data: [
                        ['Health Services', 8],
                        ['Education & ICT', 4],
                        ['Finance & Economic Planning', 3],
                        ['Agriculture, Livestock & Fisheries', 2],
                        ['Transport & Infrastructure', 3],
                        ['Trade, Industry & Cooperatives', 2],
                        ['Other', 2]
                    ]
                }
            ]
        }
    });
</script>


<!--script for livestock okay-->

<script>
    const months = [
"January", "February", "March", "April", "May", "June",
"July", "August", "September", "October", "November", "December"
];

const livestockData = {
prices: {
    cattle: 100000,
    sheep: 20000,
    pigs: 15000
},
sales: {}
};

// Generate data for 2023-2025
["2023", "2024", "2025"].forEach(year => {
livestockData.sales[year] = {};
months.forEach(month => {
    livestockData.sales[year][month] = generateMonthData(year, month);
});
});

let salesChart = null;
let revenueChart = null;
let dailyChart = null;

const chartColors = {
cattle: {
    background: 'rgba(255, 99, 132, 0.8)',
    border: 'rgba(255, 99, 132, 1)'
},
sheep: {
    background: 'rgba(54, 162, 235, 0.8)',
    border: 'rgba(54, 162, 235, 1)'
},
pigs: {
    background: 'rgba(75, 192, 192, 0.8)',
    border: 'rgba(75, 192, 192, 1)'
},
'2023': {
    background: 'rgba(255, 159, 64, 0.8)',
    border: 'rgba(255, 159, 64, 1)'
},
'2024': {
    background: 'rgba(153, 102, 255, 0.8)',
    border: 'rgba(153, 102, 255, 1)'
},
'2025': {
    background: 'rgba(75, 192, 192, 0.8)',
    border: 'rgba(75, 192, 192, 1)'
}
};

function formatDate(day, month, year) {
const date = new Date(year, months.indexOf(month), day);
return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
});
}

function generateMonthData(year, month) {
const daysInMonth = new Date(year, months.indexOf(month) + 1, 0).getDate();
const monthData = {};

for (let day = 1; day <= daysInMonth; day++) {
    monthData[day] = {
        cattle: Math.floor(Math.random() * 10) + 1,
        sheep: Math.floor(Math.random() * 20) + 5,
        pigs: Math.floor(Math.random() * 15) + 3
    };
}

return monthData;
}

function calculateYearlySales(year) {
const yearSales = {
    cattle: 0,
    sheep: 0,
    pigs: 0
};

const yearData = livestockData.sales[year];

Object.keys(yearData).forEach(month => {
    const monthData = yearData[month];
    Object.values(monthData).forEach(day => {
        yearSales.cattle += day.cattle;
        yearSales.sheep += day.sheep;
        yearSales.pigs += day.pigs;
    });
});

return yearSales;
}

function calculateMonthlySales(year, month) {
const monthlySales = {
    cattle: 0,
    sheep: 0,
    pigs: 0
};

const monthData = livestockData.sales[year][month];

Object.values(monthData).forEach(day => {
    monthlySales.cattle += day.cattle;
    monthlySales.sheep += day.sheep;
    monthlySales.pigs += day.pigs;
});

return monthlySales;
}

function calculateYearlyRevenue(year) {
let total = 0;
const yearData = livestockData.sales[year];

Object.keys(yearData).forEach(month => {
    const monthData = yearData[month];
    Object.values(monthData).forEach(day => {
        total += (day.cattle * livestockData.prices.cattle) +
                (day.sheep * livestockData.prices.sheep) +
                (day.pigs * livestockData.prices.pigs);
    });
});

return total;
}

function calculateMonthlyRevenue(year, month) {
let total = 0;
const monthData = livestockData.sales[year][month];

Object.values(monthData).forEach(day => {
    total += (day.cattle * livestockData.prices.cattle) +
            (day.sheep * livestockData.prices.sheep) +
            (day.pigs * livestockData.prices.pigs);
});

return total;
}

function calculateRevenueChange(currentValue, previousValue) {
if (!previousValue) return 0;
return ((currentValue - previousValue) / previousValue) * 100;
}

function updateRevenueDisplay(year, month) {
const yearlyRevenue = calculateYearlyRevenue(year);
const monthlyRevenue = calculateMonthlyRevenue(year, month);

// Calculate previous year's revenue
const prevYear = (parseInt(year) - 1).toString();
const prevYearRevenue = prevYear >= "2023" ? calculateYearlyRevenue(prevYear) : yearlyRevenue;

// Calculate previous month's revenue
const monthIndex = months.indexOf(month);
let prevMonth, prevMonthYear = year;
if (monthIndex === 0) {
    prevMonth = months[11];
    prevMonthYear = (parseInt(year) - 1).toString();
} else {
    prevMonth = months[monthIndex - 1];
}
const prevMonthRevenue = prevMonthYear >= "2023" ? calculateMonthlyRevenue(prevMonthYear, prevMonth) : monthlyRevenue;

// Update revenue amounts
document.getElementById('yearlyRevenue').textContent = `KSH ${yearlyRevenue.toLocaleString()}`;
document.getElementById('monthlyRevenue').textContent = `KSH ${monthlyRevenue.toLocaleString()}`;

// Update current year and month display
document.getElementById('currentYear').textContent = year;
document.getElementById('currentMonth').textContent = month;

// Update change percentages
const yearlyChange = calculateRevenueChange(yearlyRevenue, prevYearRevenue);
const monthlyChange = calculateRevenueChange(monthlyRevenue, prevMonthRevenue);

const yearlyChangeElement = document.getElementById('yearlyChange');
const monthlyChangeElement = document.getElementById('monthlyChange');

yearlyChangeElement.textContent = `${yearlyChange >= 0 ? '+' : ''}${yearlyChange.toFixed(1)}% from previous year`;
monthlyChangeElement.textContent = `${monthlyChange >= 0 ? '+' : ''}${monthlyChange.toFixed(1)}% from previous month`;

yearlyChangeElement.className = `revenue-change ${yearlyChange >= 0 ? 'positive' : 'negative'}`;
monthlyChangeElement.className = `revenue-change ${monthlyChange >= 0 ? 'positive' : 'negative'}`;
}

function updateLegend(revenues) {
const legend = document.getElementById('revenueLegend');
legend.innerHTML = '';

const animals = ['Cattle', 'Sheep', 'Pigs'];
const colors = [chartColors.cattle, chartColors.sheep, chartColors.pigs];

animals.forEach((animal, index) => {
    const item = document.createElement('div');
    item.className = 'legend-item';
    
    const colorBox = document.createElement('span');
    colorBox.className = 'legend-color';
    colorBox.style.backgroundColor = colors[index].background;
    
    const label = document.createElement('span');
    const animalLower = animal.toLowerCase();
    label.textContent = `${animal}: KSH ${revenues[animalLower].toLocaleString()}`;
    
    item.appendChild(colorBox);
    item.appendChild(label);
    legend.appendChild(item);
});
}

function initializeCharts(year, month) {
const monthData = livestockData.sales[year][month];
const prices = livestockData.prices;

const monthlySales = calculateMonthlySales(year, month);

const revenues = {
    cattle: monthlySales.cattle * prices.cattle,
    sheep: monthlySales.sheep * prices.sheep,
    pigs: monthlySales.pigs * prices.pigs
};

// Update chart titles
document.querySelector('.chart-container:nth-child(1) .chart-title').textContent = 
    `Monthly Sales Distribution for ${month}, ${year}`;
document.querySelector('.chart-container:nth-child(2) .chart-title').textContent = 
    `Yearly Sales Distribution (${year})`;

// Update Sales Chart
if (salesChart) {
    salesChart.destroy();
}

const salesCtx = document.getElementById('salesChart').getContext('2d');
salesChart = new Chart(salesCtx, {
    type: 'bar',
    data: {
        labels: ['Cattle', 'Sheep', 'Pigs'],
        datasets: [{
            label: `Sales for ${month} ${year}`,
            data: [monthlySales.cattle, monthlySales.sheep, monthlySales.pigs],
            backgroundColor: [
                chartColors.cattle.background,
                chartColors.sheep.background,
                chartColors.pigs.background
            ],
            borderColor: [
                chartColors.cattle.border,
                chartColors.sheep.border,
                chartColors.pigs.border
            ],
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        onClick: (event, elements) => {
            if (elements.length > 0) {
                const index = elements[0].index;
                const animalType = ['cattle', 'sheep', 'pigs'][index];
                showDailyDistribution(year, month, animalType);
            }
        },
        plugins: {
            legend: {
                display: false
            },
            tooltip: {
                callbacks: {
                    label: function(context) {
                        const animalType = ['cattle', 'sheep', 'pigs'][context.dataIndex];
                        const quantity = context.parsed.y;
                        const price = prices[animalType];
                        const revenue = quantity * price;
                        return [
                            `${context.label}: ${quantity} animals`,
                            `Revenue: KSH ${revenue.toLocaleString()}`
                        ];
                    }
                }
            }
        },
        scales: {
            y: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Number of Animals'
                }
            }
        }
    }
});

// Update Revenue Chart to show yearly animal sales distribution
if (revenueChart) {
    revenueChart.destroy();
}

// Get yearly sales data
const yearlySales = calculateYearlySales(year);

const revenueCtx = document.getElementById('revenueChart').getContext('2d');
revenueChart = new Chart(revenueCtx, {
    type: 'bar',
    data: {
        labels: ['Cattle', 'Sheep', 'Pigs'],
        datasets: [{
            label: `Yearly Sales for ${year}`,
            data: [yearlySales.cattle, yearlySales.sheep, yearlySales.pigs],
            backgroundColor: [
                chartColors.cattle.background,
                chartColors.sheep.background,
                chartColors.pigs.background
            ],
            borderColor: [
                chartColors.cattle.border,
                chartColors.sheep.border,
                chartColors.pigs.border
            ],
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        onClick: (event, elements) => {
            if (elements.length > 0) {
                const index = elements[0].index;
                const animalType = ['cattle', 'sheep', 'pigs'][index];
                showYearlyAnimalDistribution(year, animalType);
            }
        },
        plugins: {
            legend: {
                display: false
            },
            tooltip: {
                callbacks: {
                    label: function(context) {
                        const animalType = ['cattle', 'sheep', 'pigs'][context.dataIndex];
                        const quantity = context.parsed.y;
                        const price = prices[animalType];
                        const revenue = quantity * price;
                        return [
                            `${context.label}: ${quantity} animals`,
                            `Revenue: KSH ${revenue.toLocaleString()}`
                        ];
                    }
                }
            }
        },
        scales: {
            y: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Number of Animals'
                }
            }
        }
    }
});

updateRevenueDisplay(year, month);
updateLegend(revenues);
}

function showDailyDistribution(year, month, animalType) {
const modal = document.getElementById('dailyModal');
const monthData = livestockData.sales[year][month];

const daysInMonth = new Date(year, months.indexOf(month) + 1, 0).getDate();
const days = Array.from({length: daysInMonth}, (_, i) => i + 1);
const dailySales = days.map(day => monthData[day][animalType]);

if (dailyChart) {
    dailyChart.destroy();
}

const ctx = document.getElementById('dailyDistributionChart').getContext('2d');
dailyChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: days.map(day => formatDate(day, month, year)),
        datasets: [{
            label: `Daily ${animalType.charAt(0).toUpperCase() + animalType.slice(1)} Sales`,
            data: dailySales,
            backgroundColor: chartColors[animalType].background,
            borderColor: chartColors[animalType].border,
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        plugins: {
            tooltip: {
                callbacks: {
                    label: function(context) {
                        const value = context.parsed.y;
                        const revenue = value * livestockData.prices[animalType];
                        return [
                            `${value} ${animalType}`,
                            `Revenue: KSH ${revenue.toLocaleString()}`
                        ];
                    }
                }
            }
        },
        scales: {
            x: {
                ticks: {
                    maxRotation: 45,
                    minRotation: 45
                }
            },
            y: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Number of Animals'
                }
            }
        }
    }
});

modal.style.display = 'block';
document.getElementById('modalTitle').textContent = 
    `Daily ${animalType.charAt(0).toUpperCase() + animalType.slice(1)} Sales for ${month} ${year}`;
}

function showYearlyAnimalDistribution(year, animalType) {
const modal = document.getElementById('dailyModal');
const yearData = livestockData.sales[year];

const monthlyData = months.map(month => {
    return Object.values(yearData[month]).reduce((sum, day) => {
        return sum + day[animalType];
    }, 0);
});

const monthlyRevenues = monthlyData.map(qty => qty * livestockData.prices[animalType]);

if (dailyChart) {
    dailyChart.destroy();
}

const ctx = document.getElementById('dailyDistributionChart').getContext('2d');
dailyChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: months,
        datasets: [{
            label: `Monthly ${animalType.charAt(0).toUpperCase() + animalType.slice(1)} Sales for ${year}`,
            data: monthlyData,
            backgroundColor: chartColors[animalType].background,
            borderColor: chartColors[animalType].border,
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        plugins: {
            tooltip: {
                callbacks: {
                    title: function(context) {
                        // Return the month and year
                        return `${context[0].label} ${year}`;
                    },
                    label: function(context) {
                        const monthIndex = context.dataIndex;
                        const quantity = monthlyData[monthIndex];
                        const revenue = monthlyRevenues[monthIndex];
                        
                        // Return the detailed information in three lines
                        return [
                            `${quantity} ${animalType}`,
                            `Revenue: KSH ${revenue.toLocaleString()}`
                        ];
                    }
                }
            }
        },
        scales: {
            y: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Number of Animals'
                }
            }
        }
    }
});

modal.style.display = 'block';
document.getElementById('modalTitle').textContent = 
    `Monthly ${animalType.charAt(0).toUpperCase() + animalType.slice(1)} Sales for ${year}`;
}

// Event Listeners
document.querySelector('.close-button').addEventListener('click', () => {
document.getElementById('dailyModal').style.display = 'none';
});

window.addEventListener('click', (event) => {
const modal = document.getElementById('dailyModal');
if (event.target === modal) {
    modal.style.display = 'none';
}
});

document.getElementById('yearSelect').addEventListener('change', updateChart);
document.getElementById('monthSelect').addEventListener('change', updateChart);

function updateChart() {
const year = document.getElementById('yearSelect').value;
const month = document.getElementById('monthSelect').value;
initializeCharts(year, month);
}

// Initialize charts with default values
updateChart();
</script>
<script>
    function viewMoreAnimal(animalId) {
        // Redirect to the Livestock_details.html page with the animal ID as a query parameter
        window.location.href = `cattle_details.html?animalId=${animalId}`;
    }
    function redirectToAddLivestock() {
        window.location.href = "add_cattle.html";
    }
    function redirectToScheduleVaccination() {
        window.location.href = "schedule_vaccination.html";
    }
    function redirectToHealthCheck() {
        window.location.href = "healthcheck.html";
    }

    function editAnimal(rfid, breed, type, age, weight, health) {
        const url = `edit_page.html?rfid=${encodeURIComponent(rfid)}&breed=${encodeURIComponent(breed)}&type=${encodeURIComponent(type)}&age=${encodeURIComponent(age)}&weight=${encodeURIComponent(weight)}&health=${encodeURIComponent(health)}`;
        window.location.href = url;
    }

    function applyFilters() {
        // Implementation for applying filters
        console.log('Applying filters...');
        // Add your filter logic here
    }

    function resetFilters() {
        // Reset all form inputs
        document.querySelectorAll('.search-input, .filter-group select, .filter-group input').forEach(input => {
            input.value = '';
        });
    }
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add click handlers for submenu toggles
        const menuItems = document.querySelectorAll('.nav-item.has-submenu');
        
        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                if (e.target.closest('.submenu')) return;
                e.preventDefault();
                this.classList.toggle('active');
            });
        });
    });
    </script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const toggleBtn = document.querySelector('.toggle-btn');
    const sidebar = document.querySelector('.sidebar');
    
    toggleBtn.addEventListener('click', function() {
        sidebar.classList.toggle('collapsed');
    });

    const menuItems = document.querySelectorAll('.nav-item.has-submenu');
    
    menuItems.forEach(item => {
        const link = item.querySelector('a');
        const submenu = item.querySelector('.submenu');
        
        link.addEventListener('click', (e) => {
            e.preventDefault();
            menuItems.forEach(otherItem => {
                if (otherItem !== item) {
                    otherItem.classList.remove('active');
                    otherItem.querySelector('.submenu').classList.remove('active');
                }
            });
            item.classList.toggle('active');
            submenu.classList.toggle('active');
        });
    });

    const searchBar = document.querySelector('.search-bar');
    const menuLinks = document.querySelectorAll('.nav-menu a');

    searchBar.addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        menuLinks.forEach(link => {
            const text = link.textContent.toLowerCase();
            const listItem = link.closest('li');
            
            if (text.includes(searchTerm)) {
                listItem.style.display = '';
                const parentSubmenu = link.closest('.submenu');
                if (parentSubmenu) {
                    parentSubmenu.style.display = '';
                    parentSubmenu.closest('.nav-item').style.display = '';
                }
            } else {
                listItem.style.display = 'none';
            }
        });
    });
});
</script>
<!--morality rate script-->
<script>
// Mortality data
const mortalityData = {
    2024: {
        cattle: [45, 38, 42, 35, 40, 37, 43, 39, 41, 36, 44, 40],
        sheep: [28, 25, 30, 27, 29, 26, 31, 28, 27, 24, 29, 26],
        pigs: [35, 32, 38, 34, 36, 33, 37, 35, 34, 31, 36, 33]
    },
    2023: {
        cattle: [42, 39, 44, 38, 41, 37, 43, 40, 42, 36, 41, 38],
        sheep: [26, 23, 28, 25, 27, 24, 29, 26, 25, 22, 27, 24],
        pigs: [33, 30, 36, 32, 34, 31, 35, 33, 32, 29, 34, 31]
    },
    2022: {
        cattle: [40, 37, 41, 36, 39, 35, 40, 38, 39, 34, 38, 36],
        sheep: [24, 21, 26, 23, 25, 22, 27, 24, 23, 20, 25, 22],
        pigs: [31, 28, 34, 30, 32, 29, 33, 31, 30, 27, 32, 29]
    },
    2021: {
        cattle: [38, 35, 39, 34, 37, 33, 38, 36, 37, 32, 36, 34],
        sheep: [22, 19, 24, 21, 23, 20, 25, 22, 21, 18, 23, 20],
        pigs: [29, 26, 32, 28, 30, 27, 31, 29, 28, 25, 30, 27]
    }
};

// Initialize mortality chart
let mortalityChart;

function initializeMortalityChart() {
    const ctx = document.getElementById('mortalityChart').getContext('2d');
    mortalityChart = new Chart(ctx, {
        type: 'line',
        data: {},
        options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                legend: {
                    position: 'top',
                    labels: {
                        usePointStyle: true,
                        padding: 20,
                        font: { size: 13 }
                    }
                },
                datalabels: {
                    backgroundColor: function(context) {
                        return context.dataset.borderColor;
                    },
                    borderRadius: 4,
                    color: 'white',
                    font: { weight: 'bold' },
                    padding: 6,
                    formatter: function(value) {
                        return value;
                    },
                    display: function(context) {
                        return context.dataIndex === context.dataset.data.length - 1;
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Number of Deaths',
                        font: {
                            size: 14,
                            weight: 'bold'
                        }
                    }
                }
            }
        }
    });
}

function updateMortalityChart() {
    const selectedYear = document.getElementById('yearSelect').value;
    const viewType = document.getElementById('viewSelect').value;
    const livestockType = document.getElementById('livestockSelect').value;
    
    let chartData = {
        labels: viewType === 'monthly' 
            ? ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            : Object.keys(mortalityData),
        datasets: []
    };

    const colors = {
        cattle: { color: '#e74c3c', bgColor: 'rgba(231, 76, 60, 0.1)' },
        sheep: { color: '#3498db', bgColor: 'rgba(52, 152, 219, 0.1)' },
        pigs: { color: '#2ecc71', bgColor: 'rgba(46, 204, 113, 0.1)' }
    };

    if (viewType === 'monthly') {
        if (livestockType === 'all') {
            Object.entries(colors).forEach(([type, color]) => {
                chartData.datasets.push({
                    label: `${type.charAt(0).toUpperCase() + type.slice(1)} Deaths`,
                    data: mortalityData[selectedYear][type],
                    borderColor: color.color,
                    backgroundColor: color.bgColor,
                    tension: 0.4,
                    fill: true
                });
            });
        } else {
            chartData.datasets.push({
                label: `${livestockType.charAt(0).toUpperCase() + livestockType.slice(1)} Deaths`,
                data: mortalityData[selectedYear][livestockType],
                borderColor: colors[livestockType].color,
                backgroundColor: colors[livestockType].bgColor,
                tension: 0.4,
                fill: true
            });
        }
    } else {
        if (livestockType === 'all') {
            Object.entries(colors).forEach(([type, color]) => {
                const yearlyTotals = Object.keys(mortalityData).map(year => 
                    mortalityData[year][type].reduce((a, b) => a + b, 0)
                );
                chartData.datasets.push({
                    label: `${type.charAt(0).toUpperCase() + type.slice(1)} Total Deaths`,
                    data: yearlyTotals,
                    backgroundColor: color.color,
                    type: 'bar'
                });
            });
        } else {
            const yearlyTotals = Object.keys(mortalityData).map(year => 
                mortalityData[year][livestockType].reduce((a, b) => a + b, 0)
            );
            chartData.datasets.push({
                label: `${livestockType.charAt(0).toUpperCase() + livestockType.slice(1)} Total Deaths`,
                data: yearlyTotals,
                backgroundColor: colors[livestockType].color,
                type: 'bar'
            });
        }
    }

    mortalityChart.data = chartData;
    mortalityChart.options.scales.y.title.text = viewType === 'monthly' ? 'Monthly Deaths' : 'Yearly Deaths';
    mortalityChart.update();

    document.getElementById('chartSubtitle').textContent = viewType === 'monthly' 
        ? `Monthly mortality data for ${selectedYear}` 
        : 'Yearly mortality summary';
}

// Initialize chart and add event listeners
document.addEventListener('DOMContentLoaded', function() {
    initializeMortalityChart();
    document.getElementById('yearSelect').addEventListener('change', updateMortalityChart);
    document.getElementById('viewSelect').addEventListener('change', updateMortalityChart);
    document.getElementById('livestockSelect').addEventListener('change', updateMortalityChart);
    updateMortalityChart();
});
</script>

<!--rfid script-->

<script>
    // Data for the pie chart
    const data = {
        withTags: 120,
        withoutTags: 30
    };
    
    // Update statistics
    document.getElementById('lm-total-animals').textContent = data.withTags + data.withoutTags;
    document.getElementById('lm-with-tags').textContent = data.withTags;
    document.getElementById('lm-without-tags').textContent = data.withoutTags;
    
    // Create the pie chart
    const ctx = document.getElementById('lm-rfid-chart').getContext('2d');
    new Chart(ctx, {
        type: 'pie',
        data: {
            labels: ['With RFID Tags', 'Without RFID Tags'],
            datasets: [{
                data: [data.withTags, data.withoutTags],
                backgroundColor: [
                    '#28a745',  // Green for tagged
                    '#dc3545'   // Red for untagged
                ],
                borderColor: [
                    '#ffffff',
                    '#ffffff'
                ],
                borderWidth: 2
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        font: {
                            size: 14
                        },
                        padding: 20
                    }
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            const label = context.label || '';
                            const value = context.raw || 0;
                            const total = data.withTags + data.withoutTags;
                            const percentage = Math.round((value / total) * 100);
                            return `${label}: ${value} (${percentage}%)`;
                        }
                    }
                }
            }
        }
    });
    </script>
<!--cattle distribution script-->

<script>
    document.addEventListener('DOMContentLoaded', function () {
      // Get the canvas element
      var ctx = document.getElementById('lm-cattle-chart').getContext('2d');
  
      // Data for the farm animals
      var cattleData = {
        labels: ['Cows', 'Pigs', 'Sheep', 'Bulls'],
        datasets: [{
          label: 'Number of Animals',
          backgroundColor: [
            'rgba(54, 162, 235, 1)', // Bright blue
            'rgba(255, 99, 132, 1)', // Bright red
            'rgba(255, 206, 86, 1)', // Bright yellow
            'rgba(75, 192, 192, 1)' // Bright teal
          ],
          borderColor: [
            'rgba(54, 162, 235, 1)',
            'rgba(255, 99, 132, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)'
          ],
          borderWidth: 1,
          data: [45, 30, 60, 15]
        }]
      };
  
      // Create a bar chart
      var cattleChart = new Chart(ctx, {
        type: 'bar',
        data: cattleData,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false // Hide legend for bar chart
            },
            tooltip: {
              callbacks: {
                label: function (context) {
                  var label = context.label || '';
                  var value = context.raw || 0;
                  var total = context.dataset.data.reduce((a, b) => a + b, 0);
                  var percentage = Math.round((value / total) * 100);
                  return label + ': ' + value + ' (' + percentage + '%)';
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Number of Animals'
              }
            },
            x: {
              title: {
                display: true,
                text: 'Animal Type'
              }
            }
          }
        }
      });
  
      // Add drill-down functionality
      ctx.canvas.addEventListener('click', function (event) {
        var activePoint = cattleChart.getElementsAtEventForMode(event, 'nearest', { intersect: true }, true);
        if (activePoint.length > 0) {
          var clickedIndex = activePoint[0].index;
          var clickedLabel = cattleData.labels[clickedIndex];
          var clickedValue = cattleData.datasets[0].data[clickedIndex];
          alert('You clicked on ' + clickedLabel + ' with a value of ' + clickedValue);
          // You can add more drill-down logic here, like loading a new chart or dataset
        }
      });
    });
  </script>




<script>
const months = [
    "January", "February", "March", "April", "May", "June",
    "July", "August", "September", "October", "November", "December"
];

const livestockData = {
    prices: {
        cattle: 100000,
        sheep: 20000,
        pigs: 15000
    },
    sales: {}
};

// Generate data for 2023-2025
["2023", "2024", "2025"].forEach(year => {
    livestockData.sales[year] = {};
    months.forEach(month => {
        livestockData.sales[year][month] = generateMonthData(year, month);
    });
});

let salesChart = null;
let revenueChart = null;
let dailyChart = null;

const chartColors = {
    cattle: {
        background: 'rgba(255, 99, 132, 0.8)',
        border: 'rgba(255, 99, 132, 1)'
    },
    sheep: {
        background: 'rgba(54, 162, 235, 0.8)',
        border: 'rgba(54, 162, 235, 1)'
    },
    pigs: {
        background: 'rgba(75, 192, 192, 0.8)',
        border: 'rgba(75, 192, 192, 1)'
    }
};
        '2023': {
            background: 'rgba(255, 159, 64, 0.8)',
            border: 'rgba(255, 159, 64, 1)'
        },
        '2024': {
            background: 'rgba(153, 102, 255, 0.8)',
            border: 'rgba(153, 102, 255, 1)'
        },
        '2025': {
            background: 'rgba(75, 192, 192, 0.8)',
            border: 'rgba(75, 192, 192, 1)'
        }
    };

    function formatDate(day, month, year) {
        const date = new Date(year, months.indexOf(month), day);
        return date.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
    }

    function generateMonthData(year, month) {
        const daysInMonth = new Date(year, months.indexOf(month) + 1, 0).getDate();
        const monthData = {};

        for (let day = 1; day <= daysInMonth; day++) {
            monthData[day] = {
                cattle: Math.floor(Math.random() * 10) + 1,
                sheep: Math.floor(Math.random() * 20) + 5,
                pigs: Math.floor(Math.random() * 15) + 3
            };
        }

        return monthData;
    }

    function calculateYearlySales(year) {
        const yearSales = {
            cattle: 0,
            sheep: 0,
            pigs: 0
        };

        const yearData = livestockData.sales[year];

        Object.keys(yearData).forEach(month => {
            const monthData = yearData[month];
            Object.values(monthData).forEach(day => {
                yearSales.cattle += day.cattle;
                yearSales.sheep += day.sheep;
                yearSales.pigs += day.pigs;
            });
        });

        return yearSales;
    }

    function calculateMonthlySales(year, month) {
        const monthlySales = {
            cattle: 0,
            sheep: 0,
            pigs: 0
        };

        const monthData = livestockData.sales[year][month];

        Object.values(monthData).forEach(day => {
            monthlySales.cattle += day.cattle;
            monthlySales.sheep += day.sheep;
            monthlySales.pigs += day.pigs;
        });

        return monthlySales;
    }

    function calculateYearlyRevenue(year) {
        let total = 0;
        const yearData = livestockData.sales[year];

        Object.keys(yearData).forEach(month => {
            const monthData = yearData[month];
            Object.values(monthData).forEach(day => {
                total += (day.cattle * livestockData.prices.cattle) +
                        (day.sheep * livestockData.prices.sheep) +
                        (day.pigs * livestockData.prices.pigs);
            });
        });

        return total;
    }

    function calculateMonthlyRevenue(year, month) {
        let total = 0;
        const monthData = livestockData.sales[year][month];

        Object.values(monthData).forEach(day => {
            total += (day.cattle * livestockData.prices.cattle) +
                    (day.sheep * livestockData.prices.sheep) +
                    (day.pigs * livestockData.prices.pigs);
        });

        return total;
    }

    function calculateRevenueChange(currentValue, previousValue) {
        if (!previousValue) return 0;
        return ((currentValue - previousValue) / previousValue) * 100;
    }

    function updateRevenueDisplay(year, month) {
        const yearlyRevenue = calculateYearlyRevenue(year);
        const monthlyRevenue = calculateMonthlyRevenue(year, month);

        // Calculate previous year's revenue
        const prevYear = (parseInt(year) - 1).toString();
        const prevYearRevenue = prevYear >= "2023" ? calculateYearlyRevenue(prevYear) : yearlyRevenue;

        // Calculate previous month's revenue
        const monthIndex = months.indexOf(month);
        let prevMonth, prevMonthYear = year;
        if (monthIndex === 0) {
            prevMonth = months[11];
            prevMonthYear = (parseInt(year) - 1).toString();
        } else {
            prevMonth = months[monthIndex - 1];
        }
        const prevMonthRevenue = prevMonthYear >= "2023" ? calculateMonthlyRevenue(prevMonthYear, prevMonth) : monthlyRevenue;

        // Update revenue amounts
        document.getElementById('yearlyRevenue').textContent = `KSH ${yearlyRevenue.toLocaleString()}`;
        document.getElementById('monthlyRevenue').textContent = `KSH ${monthlyRevenue.toLocaleString()}`;

        // Update current year and month display
        document.getElementById('currentYear').textContent = year;
        document.getElementById('currentMonth').textContent = month;

        // Update change percentages
        const yearlyChange = calculateRevenueChange(yearlyRevenue, prevYearRevenue);
        const monthlyChange = calculateRevenueChange(monthlyRevenue, prevMonthRevenue);

        const yearlyChangeElement = document.getElementById('yearlyChange');
        const monthlyChangeElement = document.getElementById('monthlyChange');

        yearlyChangeElement.textContent = `${yearlyChange >= 0 ? '+' : ''}${yearlyChange.toFixed(1)}% from previous year`;
        monthlyChangeElement.textContent = `${monthlyChange >= 0 ? '+' : ''}${monthlyChange.toFixed(1)}% from previous month`;

        yearlyChangeElement.className = `revenue-change ${yearlyChange >= 0 ? 'positive' : 'negative'}`;
        monthlyChangeElement.className = `revenue-change ${monthlyChange >= 0 ? 'positive' : 'negative'}`;
    }

    function updateLegend(revenues) {
        const legend = document.getElementById('revenueLegend');
        legend.innerHTML = '';

        const animals = ['Cattle', 'Sheep', 'Pigs'];
        const colors = [chartColors.cattle, chartColors.sheep, chartColors.pigs];

        animals.forEach((animal, index) => {
            const item = document.createElement('div');
            item.className = 'legend-item';
            
            const colorBox = document.createElement('span');
            colorBox.className = 'legend-color';
            colorBox.style.backgroundColor = colors[index].background;
            
            const label = document.createElement('span');
            const animalLower = animal.toLowerCase();
            label.textContent = `${animal}: KSH ${revenues[animalLower].toLocaleString()}`;
            
            item.appendChild(colorBox);
            item.appendChild(label);
            legend.appendChild(item);
        });
    }

    function initializeCharts(year, month) {
        console.log("Initializing charts for:", year, month);
        const monthData = livestockData.sales[year][month];
        console.log("Month Data:", monthData);
        const prices = livestockData.prices;

        const monthlySales = calculateMonthlySales(year, month);

        const revenues = {
            cattle: monthlySales.cattle * prices.cattle,
            sheep: monthlySales.sheep * prices.sheep,
            pigs: monthlySales.pigs * prices.pigs
        };

        // Update chart titles
        document.querySelector('.chart-container:nth-child(1) .chart-title').textContent = 
            `Monthly Sales Distribution for ${month}, ${year}`;
        document.querySelector('.chart-container:nth-child(2) .chart-title').textContent = 
            `Yearly Sales Distribution (${year})`;

        // Update Sales Chart
        if (salesChart) {
            salesChart.destroy();
        }

        const salesCtx = document.getElementById('salesChart').getContext('2d');
        salesChart = new Chart(salesCtx, {
            type: 'bar',
            data: {
                labels: ['Cattle', 'Sheep', 'Pigs'],
                datasets: [{
                    label: `Sales for ${month} ${year}`,
                    data: [monthlySales.cattle, monthlySales.sheep, monthlySales.pigs],
                    backgroundColor: [
                        chartColors.cattle.background,
                        chartColors.sheep.background,
                        chartColors.pigs.background
                    ],
                    borderColor: [
                        chartColors.cattle.border,
                        chartColors.sheep.border,
                        chartColors.pigs.border
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                onClick: (event, elements) => {
                    if (elements.length > 0) {
                        const index = elements[0].index;
                        const animalType = ['cattle', 'sheep', 'pigs'][index];
                        showDailyDistribution(year, month, animalType);
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const animalType = ['cattle', 'sheep', 'pigs'][context.dataIndex];
                                const quantity = context.parsed.y;
                                const price = prices[animalType];
                                const revenue = quantity * price;
                                return [
                                    `${context.label}: ${quantity} animals`,
                                    `Revenue: KSH ${revenue.toLocaleString()}`
                                ];
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Number of Animals'
                        }
                    }
                }
            }
        });

        // Update Revenue Chart to show yearly animal sales distribution
        if (revenueChart) {
            revenueChart.destroy();
        }

        // Get yearly sales data
        const yearlySales = calculateYearlySales(year);

        const revenueCtx = document.getElementById('revenueChart').getContext('2d');
        revenueChart = new Chart(revenueCtx, {
            type: 'bar',
            data: {
                labels: ['Cattle', 'Sheep', 'Pigs'],
                datasets: [{
                    label: `Yearly Sales for ${year}`,
                    data: [yearlySales.cattle, yearlySales.sheep, yearlySales.pigs],
                    backgroundColor: [
                        chartColors.cattle.background,
                        chartColors.sheep.background,
                        chartColors.pigs.background
                    ],
                    borderColor: [
                        chartColors.cattle.border,
                        chartColors.sheep.border,
                        chartColors.pigs.border
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                onClick: (event, elements) => {
                    if (elements.length > 0) {
                        const index = elements[0].index;
                        const animalType = ['cattle', 'sheep', 'pigs'][index];
                        showYearlyAnimalDistribution(year, animalType);
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const animalType = ['cattle', 'sheep', 'pigs'][context.dataIndex];
                                const quantity = context.parsed.y;
                                const price = prices[animalType];
                                const revenue = quantity * price;
                                return [
                                    `${context.label}: ${quantity} animals`,
                                    `Revenue: KSH ${revenue.toLocaleString()}`
                                ];
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Number of Animals'
                        }
                    }
                }
            }
        });

        updateRevenueDisplay(year, month);
        updateLegend(revenues);
    }

    function showDailyDistribution(year, month, animalType) {
        const modal = document.getElementById('dailyModal');
        const monthData = livestockData.sales[year][month];

        const daysInMonth = new Date(year, months.indexOf(month) + 1, 0).getDate();
        const days = Array.from({length: daysInMonth}, (_, i) => i + 1);
        const dailySales = days.map(day => monthData[day][animalType]);

        if (dailyChart) {
            dailyChart.destroy();
        }

        const ctx = document.getElementById('dailyDistributionChart').getContext('2d');
        dailyChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: days.map(day => formatDate(day, month, year)),
                datasets: [{
                    label: `Daily ${animalType.charAt(0).toUpperCase() + animalType.slice(1)} Sales`,
                    data: dailySales,
                    backgroundColor: chartColors[animalType].background,
                    borderColor: chartColors[animalType].border,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const value = context.parsed.y;
                                const revenue = value * livestockData.prices[animalType];
                                return [
                                    `${value} ${animalType}`,
                                    `Revenue: KSH ${revenue.toLocaleString()}`
                                ];
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45
                        }
                    },
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Number of Animals'
                        }
                    }
                }
            }
        });

        modal.style.display = 'block';
        document.getElementById('modalTitle').textContent = 
            `Daily ${animalType.charAt(0).toUpperCase() + animalType.slice(1)} Sales for ${month} ${year}`;
    }

    function showYearlyAnimalDistribution(year, animalType) {
        const modal = document.getElementById('dailyModal');
        const yearData = livestockData.sales[year];

        const monthlyData = months.map(month => {
            return Object.values(yearData[month]).reduce((sum, day) => {
                return sum + day[animalType];
            }, 0);
        });

        const monthlyRevenues = monthlyData.map(qty => qty * livestockData.prices[animalType]);

        if (dailyChart) {
            dailyChart.destroy();
        }

        const ctx = document.getElementById('dailyDistributionChart').getContext('2d');
        dailyChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: months,
                datasets: [{
                    label: `Monthly ${animalType.charAt(0).toUpperCase() + animalType.slice(1)} Sales for ${year}`,
                    data: monthlyData,
                    backgroundColor: chartColors[animalType].background,
                    borderColor: chartColors[animalType].border,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(context) {
                                // Return the month and year
                                return `${context[0].label} ${year}`;
                            },
                            label: function(context) {
                                const monthIndex = context.dataIndex;
                                const quantity = monthlyData[monthIndex];
                                const revenue = monthlyRevenues[monthIndex];
                                
                                // Return the detailed information in three lines
                                return [
                                    `${quantity} ${animalType}`,
                                    `Revenue: KSH ${revenue.toLocaleString()}`
                                ];
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Number of Animals'
                        }
                    }
                }
            }
        });

        modal.style.display = 'block';
        document.getElementById('modalTitle').textContent = 
            `Monthly ${animalType.charAt(0).toUpperCase() + animalType.slice(1)} Sales for ${year}`;
    }

    // Event Listeners
    document.querySelector('.close-button').addEventListener('click', () => {
        document.getElementById('dailyModal').style.display = 'none';
    });

    window.addEventListener('click', (event) => {
        const modal = document.getElementById('dailyModal');
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });

    document.getElementById('yearSelectMonthly').addEventListener('change', updateChart);
    document.getElementById('monthSelectMonthly').addEventListener('change', updateChart);

    function updateChart() {
        const year = document.getElementById('yearSelectMonthly').value;
        const month = document.getElementById('monthSelectMonthly').value;
        initializeCharts(year, month);
    }

    // Initialize charts with default values
    document.addEventListener('DOMContentLoaded', function() {
        const year = document.getElementById('yearSelectMonthly').value;
        const month = document.getElementById('monthSelectMonthly').value;
        initializeCharts(year, month);
    });
</script>





</body>


<!-- By Kelvin Njuguna   13:55:49 GMT -->

</html>